# NerdCam — Tasks 2026-02-19

## Done Today
- [x] Diagnosed A/V sync issue — architectural limitation (separate streams)
- [x] Diagnosed stream freeze — Foscam R2 RTSP timeout at ~275s
- [x] Fixed UDP probesize (32 → 32768) — reliable stream startup
- [x] Created ISSUES_REPORT.md, STREAM_ANALYSIS.md, TROUBLESHOOTING_PLAN.md
- [x] Investigated PTZ preset parsing issue (partial — reads only first preset)
- [x] Project setup (AI_INSTRUCTIONS.md, concept, roadmap, agents, settings)
- [x] Pushed project structure to main
- [x] Created dev branch, switched to it
- [x] Doc-keeper audit — fixed freeze duration, probesize, issue statuses, NerdPudding context
- [x] Updated STREAM_ANALYSIS.md with current state (preserved investigation history)
- [x] Archived TROUBLESHOOTING_PLAN.md (superseded by ISSUES_REPORT.md)
- [x] Updated roadmap status (Sprint 1 → in progress)

## Sprint 1 — Stream Latency & Sync
### Quick wins
- [ ] Reduce stale detection threshold (5s → 2s) — one-line change, cuts freeze from ~7s to ~4s
- [ ] Investigate RTSP keepalive — could eliminate 275s timeout entirely

### Architecture
- [ ] Investigate MSE/fMP4 vs WebRTC vs HLS — decide approach for synced A/V in browser
- [ ] Prototype chosen approach
- [ ] Test concurrent RTSP session limit (MJPEG + audio + recording = 3 sessions?)

### Compatibility
- [ ] Test MJPEG stability for NerdPudding after any changes
- [ ] Verify `/api/mjpeg` boundary format unchanged (NerdPudding contract)

### Bug fix
- [ ] Fix PTZ preset parsing (only reads first preset from camera response)
